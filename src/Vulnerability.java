public class Vulnerability {
	private String type;
	private String food;
	private Integer amount;
	private Double range;
	private String team;

	public static Vulnerability fromRow(String[] row) {
		Vulnerability vulnerability = new Vulnerability();
		vulnerability.setType(row[0]);
		vulnerability.setFood(row[1]);
		if(row[2].length() > 0) {
			vulnerability.setAmount(Integer.parseInt(row[2]));
		}
		if(row[3].length() > 0) {
			vulnerability.setRange(Double.parseDouble(row[3]));
		}
		vulnerability.setTeam(row[4]);
		return vulnerability;
	}

	public String[] toRow() {
		String[] row = new String[5];
		row[0] = getType();
		row[1] = getFood();
		if(getAmount() != null){
			row[2] = String.valueOf(amount);
		}
		else{
			row[2] = "";
		}
		if(getRange() != null) {
			row[3] = String.valueOf(range);
		}
		else{
			row[3] = "";
		}
		row[4] = getTeam();
		return row;
	}


	public Vulnerability() {
	}

	public Vulnerability(String type, String food, int amount, double range, String team) {
		this.type = type;
		this.food = food;
		this.amount = amount;
		this.range = range;
		this.team = team;
	}

	public String getType() {
		return type;
	}

	public void setType(String type) {
		this.type = type;
	}

	public String getFood() {
		return food;
	}

	public void setFood(String food) {
		this.food = food;
	}

	public Integer getAmount() {
		return amount;
	}

	public void setAmount(int amount) {
		this.amount = amount;
	}

	public Double getRange() {
		return range;
	}

	public void setRange(double range) {
		this.range = range;
	}

	public String getTeam() {
		return team;
	}

	public void setTeam(String team) {
		this.team = team;
	}

	public int calculateSimilarity(Vulnerability vulnerability) {
		String[] comp1 = toRow();
		String[] comp2 = vulnerability.toRow();
		int matches = 0;
		for(int i = 0; i<comp1.length; i++) {
			String valueA = comp1[i];
			String valueB = comp2[i];
			if(valueA.equalsIgnoreCase(valueB)) { //equals ?
				matches++;
			}
		}
		return matches;
	}

	@Override
	public String toString() {
		return "Vulnerability{" +
				"type='" + type + '\'' +
				", food='" + food + '\'' +
				", amount=" + amount +
				", range=" + range +
				", team='" + team + '\'' +
				'}';
	}
}
